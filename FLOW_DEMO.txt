#!/usr/bin/env python3
"""
Demo script Ä‘á»ƒ hiá»ƒn thá»‹ flow hoÃ n toÃ n:
1. Extract Trang 1
2. Há»i user tráº£ lá»i
3. User submit
4. Auto-fill + click Tiáº¿p
5. Auto-fill trang 2 + click Gá»­i
"""

print("""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    GOOGLE FORM AUTO FILLER v3                  â•‘
â•‘                      (Multi-Page Support)                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ FLOW HOÃ€N TOÃ€N:

[1] EXTRACTION PHASE (Tá»± Ä‘á»™ng)
    âœ“ Load form tá»« URL
    âœ“ TÃ¬m táº¥t cáº£ cÃ¢u há»i trÃªn TRANG 1 HIá»†N Táº I
    âœ“ Hiá»ƒn thá»‹: "ğŸ“Œ Pháº§n 1 / 2"
    âœ“ Hiá»ƒn thá»‹: "1. hello em Æ¡i" (multiple choice)
    âœ“ Hiá»ƒn thá»‹: "2. báº¡n tÃªn lÃ  gÃ¬" (multiple choice)
    âœ“ Detect nÃºt "Tiáº¿p" cÃ³ tá»“n táº¡i
    âœ“ Dá»ªNG (khÃ´ng click "Tiáº¿p")

[2] USER INTERACTION (Manual)
    âœ“ UI hiá»ƒn thá»‹ táº¥t cáº£ cÃ¢u há»i Trang 1
    âœ“ User chá»n Ä‘Ã¡p Ã¡n cho má»—i cÃ¢u
    âœ“ User click button "Gá»­i Responses (5 láº§n)"

[3] SUBMISSION PHASE (Tá»± Ä‘á»™ng)
    âœ“ Táº¡o 5 responses tá»± Ä‘á»™ng
    
    Láº§n 1:
      â€¢ Load form
      â€¢ _fill_form() cháº¡y:
        - Äiá»n Q1: "h" (tá»« answers[0])
        - Äiá»n Q2: "name1" (tá»« answers[1])
        - TÃ¬m nÃºt "Tiáº¿p" â†’ Click
        - Trang 2 load
        - Äiá»n Q3: "ok" (tá»« answers[2])
        - TÃ¬m nÃºt "Tiáº¿p" â†’ KhÃ´ng cÃ³ â†’ Exit loop
      â€¢ _submit_form() cháº¡y:
        - Scroll to bottom
        - Click nÃºt "Gá»­i" (purple button)
        - âœ“ Response 1 submitted
    
    Láº§n 2-5:
      â€¢ Láº·p láº¡i tÆ°Æ¡ng tá»± vá»›i answers khÃ¡c nhau
      â€¢ âœ“ Response 2-5 submitted

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—

ğŸ”‘ KEY CHANGES:

1. EXTRACTION (gui_app_v3.py - GoogleFormWorker.run()):
   âŒ OLD: Auto-click "Tiáº¿p" during extraction
   âœ… NEW: Only extract current page, detect "Tiáº¿p", then STOP
   
   Code change:
   - Removed the while loop that auto-clicks "Tiáº¿p"
   - Now stops after extracting first page with "Tiáº¿p" button
   - User must submit to continue

2. SUBMISSION (_fill_form()):
   âœ… Already handles multi-page form correctly
   - Fills all answers for current page
   - Detects "Tiáº¿p" button
   - Clicks it
   - Waits for next page to load
   - Loops until no "Tiáº¿p" button
   - Exits when ready for submit

3. GUI UI:
   âœ… Shows all questions from extracted page
   âœ… User selects answers in UI
   âœ… User clicks "Gá»­i" button to submit
   âœ… Backend auto-fills and navigates pages

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—

ğŸ“Š FORM STRUCTURE (from test):

  Pháº§n 1 / 2
    1. hello em Æ¡i (multiple_choice)
    2. báº¡n tÃªn lÃ  gÃ¬ (multiple_choice)
  
  Pháº§n 2 / 2
    3. fuck u (multiple_choice)

âœ“ Code auto-detects "Pháº§n X / Y" and marks as page_title
âœ“ GUI displays page titles differently (tÃ­m, bold)
âœ“ When user submits, _fill_form() auto-clicks "Tiáº¿p"

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
""")
